import{Q as n}from"./index-CUz47RG4.js";import{s as d}from"./index-PFMSMQwc.js";var u={name:"BaseEditableHolder",extends:d,emits:["update:modelValue","value-change"],props:{modelValue:{type:null,default:void 0},defaultValue:{type:null,default:void 0},name:{type:String,default:void 0},invalid:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},formControl:{type:Object,default:void 0}},inject:{$parentInstance:{default:void 0},$pcForm:{default:void 0},$pcFormField:{default:void 0}},data:function(){return{d_value:this.defaultValue||this.modelValue}},watch:{modelValue:function(e){this.d_value=e},defaultValue:function(e){this.d_value=e},$formName:{immediate:!0,handler:function(e){var l,i;this.formField=((l=this.$pcForm)===null||l===void 0||(i=l.register)===null||i===void 0?void 0:i.call(l,e,this.$formControl))||{}}},$formControl:{immediate:!0,handler:function(e){var l,i;this.formField=((l=this.$pcForm)===null||l===void 0||(i=l.register)===null||i===void 0?void 0:i.call(l,this.$formName,e))||{}}},$formDefaultValue:{immediate:!0,handler:function(e){this.d_value!==e&&(this.d_value=e)}}},formField:{},methods:{writeValue:function(e,l){var i,t;this.controlled&&(this.d_value=e,this.$emit("update:modelValue",e)),this.$emit("value-change",e),(i=(t=this.formField).onChange)===null||i===void 0||i.call(t,{originalEvent:l,value:e})}},computed:{$filled:function(){return n(this.d_value)},$invalid:function(){var e,l,i,t;return(e=(l=this.invalid)!==null&&l!==void 0?l:(i=this.$pcFormField)===null||i===void 0||(i=i.$field)===null||i===void 0?void 0:i.invalid)!==null&&e!==void 0?e:(t=this.$pcForm)===null||t===void 0||(t=t.states)===null||t===void 0||(t=t[this.$formName])===null||t===void 0?void 0:t.invalid},$formName:function(){var e;return this.name||((e=this.$formControl)===null||e===void 0?void 0:e.name)},$formControl:function(){var e;return this.formControl||((e=this.$pcFormField)===null||e===void 0?void 0:e.formControl)},$formDefaultValue:function(){var e,l,i,t;return(e=(l=this.d_value)!==null&&l!==void 0?l:(i=this.$pcFormField)===null||i===void 0?void 0:i.initialValue)!==null&&e!==void 0?e:(t=this.$pcForm)===null||t===void 0||(t=t.initialValues)===null||t===void 0?void 0:t[this.$formName]},controlled:function(){return this.$inProps.hasOwnProperty("modelValue")||!this.$inProps.hasOwnProperty("modelValue")&&!this.$inProps.hasOwnProperty("defaultValue")},filled:function(){return this.$filled}}};export{u as s};
